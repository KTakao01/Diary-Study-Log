# done
Recursion データベース</br>
・データベースの内部（１）</br>
・データベースの内部（２）</br>
・データベースアーキテクチャ（１）</br>
・データベースアーキテクチャ（２）</br>
・データベースモデル</br>
・Quiz2</br>

# report
### CRUD
>SQL のような言語では、INSERT（作成）、SELECT（読み込み）、UPDATE、DELETE の各コマンドが使われます。

### DDL/DML
>データベース言語は、データ定義言語 DDL（data-definition language）、データ操作言語 DML（data-manipulation language）の 2 つの独立したサブ言語から構成されています。

### スキーマ
>スキーマ（schema）とは、保存されているデータの集合体に紐付けられる全ての規則のことを指します。

>スキーマには、格納するデータ型、使用する物理的データ構造（上級ユーザー向け）、データエントリの整合性と制約、および承認ルールの宣言が含まれます。つまり、スキーマはどのようなデータをデータベースに入れることができるか、どのようにデータベースに保存するか、誰がデータベースにデータを保存したり読み出したりできるかを決定します。これらのルールや設定は全て、データベース自身だけがアクセスできるメタデータを持つデータ辞書（data dictionary）に含まれます。

>データベースの設計をスキーマと呼ぶのに対し、ある特定の時点でのシステム内に存在する実際のデータをインスタンス（instance）といいます。プログラミング、特に OOP の観点からは、スキーマは「クラスの設計図」、データベースのインスタンスは「ある時点で特定の状態にあるオブジェクト（クラスのインスタンス）」と考えることができるでしょう。例えば、バックアップを作成する際には、その時点でのスキーマ（構造）とデータベースのインスタンスがエクスポートされます。

### クエリプロセッサモジュール
>クエリプロセッサ（query processor）モジュールは、データベース言語を解釈し、低階層の命令にコンパイルする役割を担っています。

>クエリプロセッサモジュールの中には、DDL 文を実行し、それに応じてデータ辞書を更新する DDL インタープリタ（DDL interpreter）と、クエリを最適化し、さらに低階層の命令に変換して、クエリ評価エンジンで処理する DML コンパイラ（DML compiler）があります。

### ストレージマネージャ
>バイナリファイルのようにオペレーティングシステム階層でコンピュータに保存されているものと、クエリプロセッサが生成する命令との間をつなぐ役割を担うストレージマネージャ（storage manager）

>ストレージマネージャは、オペレーティングシステムの低階層 I/O API（Input/Output API）と通信することで、データをコンピュータ内のファイルとして保存する役割を果たします。ストレージマネージャは、データ辞書にアクセスしてデータベース管理者が微調整したデータベースの構造を把握し、整合性と権限のチェックを行うことができます。

>ストレージマネージャは、データに素早くアクセスできるルックアップテーブルのように、インデックスのセットを管理することができます。

```sql
Authorization manager
ユーザーがデータにアクセスする権限を持っているかどうかを、データベースのデータ辞書を参照してチェックします。


Integrity manager
状態の変更がスキーマで指定された制約と参照の整合性に従うかどうかをチェックします。


File manager
ディスクストレージ内のデータの構造を決定し、ディスクストレージ内のデータの割り当てを行います。


Buffer manager
メインメモリーに何をキャッシュするかを決定し、ディスクからメインメモリーへのデータの取り込みを行います。


Transaction manager
データベースのトランザクション内で必要な手続きを行います。これには、同時実行時の一貫性の維持、ロールバックの仕組み、原子性のルールの適用等が含まれます。リレーショナルデータベースでは、ACID （原子性、一貫性、独立性、永続性） ルールが適用されます。
```

### データベースの階層
```java
物理層（physical level）

データが物理的にどのように保存されるかを決定します。この階層では、次のような質問があります。

データ型は何バイトか？
ファイル内の記号を解析する際、区切り文字は必要か？
使用すべきデータ構造は何か？
何をどのような方法でインデックス化するか？
論理層（logical level）

スキーマ設計のように、データベースが高階層でどのように構成されているかを表します。この階層では、次のような質問があります。

テーブル（データ集）にはどのようなデータ型を束ねるべきか？
制約や整合性のルールは何か？
他のテーブルのキーなど、参照すべきものはあるか（外部キー等）？
データベース全体のデータ関係はどうなっているか？
外部層（view level）

データベースの一部分のみを表します。外部層はデータベース管理者が設定するもので、セキュリティ上の目的や複雑度を軽減するためのものです。アプリケーションの一部や開発者は、大規模なアプリケーションのデータベース設計全体のうち、ごく一部だけを知っていれば問題ありません。
```

### データ辞書
>これらのルールや設定は全て、データベース自身だけがアクセスできるメタデータを持つデータ辞書（data dictionary）に含まれます

### データベースモデル
関係モデル（relational model
実態関連データモデル(entity-relationship data model)
半構造化データモデル(semi-structrured data model)
オブジェクトモデル（object model）

```sql
オブジェクトモデルは多くの場合関係モデルと共存しますか？
ChatGPT
はい、オブジェクトモデルはしばしば関係モデルと共存します。これは特に、オブジェクトリレーショナルデータベース管理システム（ORDBMS）で顕著です。ORDBMSは、関係モデルの堅牢さとオブジェクト指向プログラミングの柔軟性を組み合わせたシステムです。

この種のデータベースシステムでは、オブジェクト指向の特徴（例えば、継承、ポリモーフィズム、複合データタイプ）が、従来の関係データベースの機能（例えば、テーブル、行、列、SQLクエリ）と一緒に提供されます。これにより、開発者は複雑なデータ型をより自然に表現することができ、データベースに格納されるオブジェクトがアプリケーションのオブジェクトとより密接にマッピングされるようになります。

また、アプリケーション開発においては、オブジェクトリレーショナルマッピング（ORM）ツールがよく使用されます。ORMは、オブジェクトモデルと関係モデルとの間にあるミスマッチを解決するための技術です。ORMを使うと、プログラマはオブジェクト指向の言語で書かれたコードを、関係データベースに保存されたデータと透過的にやり取りできるようになります。

したがって、オブジェクトモデルと関係モデルの共存は、モダンなソフトウェア開発において一般的な実践です。
```